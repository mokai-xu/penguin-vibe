<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penguin Vibe - Waddle Together!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="customization-screen" class="customization-screen">
        <div class="customization-modal">
            <h1 class="main-title">Meet your penguin pal ‚ò∫Ô∏è</h1>
            <p class="subtitle">This is a safe place to express yourself.</p>
            
            <div class="customization-section">
                <h2>Choose a Mode</h2>
                <div class="mode-grid" id="mode-grid">
                    <div class="mode-option" data-mode="default">
                        <div class="mode-preview">üåä</div>
                        <span>Default</span>
                    </div>
                    <div class="mode-option" data-mode="holiday">
                        <div class="mode-preview">‚ùÑÔ∏è</div>
                        <span>Holiday</span>
                    </div>
                </div>
            </div>
            
            <div class="customization-section" id="hat-section">
                <h2>Pick a Hat</h2>
                <div class="hat-grid" id="hat-grid">
                    <div class="hat-option" data-hat="none">
                        <div class="hat-preview">None</div>
                    </div>
                    <div class="hat-option" data-hat="party">
                        <div class="hat-preview">üéâ</div>
                        <span>Party Hat</span>
                    </div>
                    <div class="hat-option" data-hat="egg">
                        <div class="hat-preview">ü•ö</div>
                        <span>Egg</span>
                    </div>
                    <div class="hat-option" data-hat="fedora">
                        <div class="hat-preview">üé©</div>
                        <span>Fedora</span>
                    </div>
                    <div class="hat-option" data-hat="magician">
                        <div class="hat-preview">üé©</div>
                        <span>Magician</span>
                    </div>
                    <div class="hat-option" data-hat="bow">
                        <div class="hat-preview">üéÄ</div>
                        <span>Red Bow</span>
                    </div>
                    <div class="hat-option" data-hat="cowboy">
                        <div class="hat-preview">ü§†</div>
                        <span>Cowboy</span>
                    </div>
                    <div class="hat-option" data-hat="watermelon">
                        <div class="hat-preview">üçâ</div>
                        <span>Watermelon</span>
                    </div>
                    <div class="hat-option" data-hat="baseball">
                        <div class="hat-preview">‚öæ</div>
                        <span>Cap</span>
                    </div>
                </div>
            </div>

            <div class="customization-section">
                <h2>Preview</h2>
                <canvas id="preview-canvas" width="200" height="230"></canvas>
            </div>

            <button id="join-button" class="join-button">Join the Iceberg!</button>
        </div>
    </div>

    <div id="game-container" class="game-container" style="display: none;">
        <canvas id="game-canvas"></canvas>
        
        <button id="sound-toggle" class="sound-toggle" title="Sound FX">üîä</button>
        <button id="music-toggle" class="music-toggle" title="BGM">üéµ</button>
        <button id="instructions-button" class="instructions-button" title="Instructions">‚Ñπ</button>
        
        <div class="emoji-ui">
            <!-- Emoji buttons will be generated dynamically based on mode -->
        </div>


        <button id="end-session-button" class="end-session-button">End session</button>

        <!-- Mobile Controller -->
        <div id="mobile-controller" class="mobile-controller">
            <div class="controller-base">
                <div id="controller-stick" class="controller-stick"></div>
            </div>
        </div>
    </div>

    <div id="instructions-modal" class="instructions-modal" style="display: none;">
        <div class="instructions-modal-content">
            <button class="instructions-modal-close" id="instructions-modal-close" aria-label="Close instructions">√ó</button>
            <h2>Info</h2>
            <div class="instructions-section">
                <h3>How to Play</h3>
                <ul>
                    <li>Use <strong>arrow keys</strong> (or joystick controller on mobile) to waddle around the open world</li>
                    <li>Click <strong>emoji buttons</strong> at the bottom to express yourself</li>
                    <li>When you're done, click <strong>"End session"</strong> to see your mood summary</li>
                </ul>
            </div>
            <div class="game-inspiration-section">
                <h3>Game Inspiration</h3>
                <p>Penguin Vibe is a safe space for emotional expression and self-reflection. Inspired by the need for digital sanctuaries, this game encourages you to:</p>
                <ul>
                    <li>Express & reflect on your emotions freely through emojis</li>
                    <li>Explore an open world at your own pace</li>
                    <li>Listen to peaceful music and sounds, created by <a href="https://instagram.com/2kaimusic" target="_blank" rel="noopener noreferrer">@2kaimusic</a></li>
                </ul>
            </div>
            <button id="close-instructions-modal-button" class="close-instructions-modal-button">Close</button>
        </div>
    </div>

    <div id="session-results" class="session-results" style="display: none;">
        <div class="results-modal">
            <h2>Your Session Summary</h2>
            <div class="penguin-preview-container">
                <canvas id="results-penguin-canvas" width="200" height="230"></canvas>
            </div>
            <div id="mood-summary" class="mood-summary"></div>
            <div id="encouragement" class="encouragement"></div>
            <button id="close-results-button" class="close-results-button">Close</button>
        </div>
    </div>

    <script src="spriteSheet.js"></script>
    <script src="iceberg.js"></script>
    <script src="holidayWorld.js"></script>
    <script src="penguin.js"></script>
    <script src="emoji.js"></script>
    <script src="customization.js"></script>
    <script src="game.js"></script>
</body>
</html>

